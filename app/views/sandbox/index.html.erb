<form id="form" method="post">
  <!--<img src="English script.png" height=50/>-->
  <table>
    <tr>
      <td>
        <!--rows=20 cols=100 -->
        <textarea name="text" id="text" class="text" rows=20 cols=60><%= @text %></textarea>

      </td>
      <td>

        <svg id="svg"
             xmlns="http://www.w3.org/2000/svg"
             width="300" height="200">
          <circle cx="100" cy="50" r="40" stroke="black" stroke-width="2" fill="red" id="circle"/>
          <circle r="40" stroke="black" stroke-width="2" fill="red" id="circle"/>
          <%= @svg %>
        </svg>
        <br/>
        <b><input style="height: 50px;width: 100px;background-color: #000099;color: #b0e0e6;" type="submit" value="RUN!"/></b><br/>
      </td>
    </tr>
  </table>
  <br/>
  <b class="blink">
    <%= @result %>
  </b>
  <script>
      //      tee();
      blinks(4, 1);
      $('#text').keydown(function (event) {
          if ((event.ctrlKey || event.metaKey) && event.keyCode == 13) {
              $('#form').submit();
          }
      });

      <%= @javascript %>

      //      â€‹
      //
      //      var svg = document.getElementById("svg");
      //      var r = rect(100, 100, "blue");
      //      add(r);
      //      animate(r);
  </script>
</form>
<!--<form action="" method="post">-->
  <!--Examples:-->
  <!--<a href="javascript:copyExample()">what is 3 + 1</a>-->
  <!--<a href="?block=1">what is 3 + 3</a>-->
<!--</form>-->

<script>
    <!-- src="tab-key.js"-->
    $(document).delegate('#textbox', 'keydown', function(e) {
        var keyCode = e.keyCode || e.which;

        if (keyCode == 9) {
            e.preventDefault();
            var start = $(this).get(0).selectionStart;
            var end = $(this).get(0).selectionEnd;

            // set textarea value to: text before caret + tab + text after caret
            $(this).val($(this).val().substring(0, start)
                    + "\t"
                    + $(this).val().substring(end));

            // put caret at right position again
            $(this).get(0).selectionStart =
                    $(this).get(0).selectionEnd = start + 1;
        }
    });
</script>

<%= render 'scripts/compact' %>
